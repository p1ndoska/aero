@import "tailwindcss";

/* Отключение автоматического перевода браузера */
html {
  translate: no;
}

/* Отключение перевода для всех элементов */
* {
  translate: no;
}

/* Дополнительная защита от перевода */
body {
  translate: no;
}

/* Отключение перевода для текстовых элементов */
p, h1, h2, h3, h4, h5, h6, span, div, a, button, input, textarea, label {
  translate: no;
}

/* Принудительный перенос длинных слов */
.force-break {
  word-break: break-all;
  overflow-wrap: break-word;
  hyphens: auto;
}

/* Перенос для всех текстовых элементов в модальных окнах */
.dialog-content * {
  word-break: break-word;
  overflow-wrap: break-word;
}

/* Классы для выравнивания текста в конструкторе контента */
.content-text-left {
  text-align: left !important;
}

.content-text-center {
  text-align: center !important;
}

.content-text-right {
  text-align: right !important;
}

.content-text-justify {
  text-align: justify !important;
}

/* Дополнительные специфичные правила для заголовков и абзацев */
h1.content-text-center,
h2.content-text-center,
h3.content-text-center,
h4.content-text-center,
h5.content-text-center,
h6.content-text-center,
p.content-text-center {
  text-align: center !important;
}

h1.content-text-left,
h2.content-text-left,
h3.content-text-left,
h4.content-text-left,
h5.content-text-left,
h6.content-text-left,
p.content-text-left {
  text-align: left !important;
}

h1.content-text-right,
h2.content-text-right,
h3.content-text-right,
h4.content-text-right,
h5.content-text-right,
h6.content-text-right,
p.content-text-right {
  text-align: right !important;
}

h1.content-text-justify,
h2.content-text-justify,
h3.content-text-justify,
h4.content-text-justify,
h5.content-text-justify,
h6.content-text-justify,
p.content-text-justify {
  text-align: justify !important;
}

/* Принудительное выравнивание для всех элементов с inline стилями */
[style*="text-align: center"] {
  text-align: center !important;
}

[style*="text-align: left"] {
  text-align: left !important;
}

[style*="text-align: right"] {
  text-align: right !important;
}

[style*="text-align: justify"] {
  text-align: justify !important;
}

/* Максимальный приоритет для всех заголовков и абзацев */
h1, h2, h3, h4, h5, h6, p {
  text-align: inherit !important;
}

/* Принудительное выравнивание через data-атрибуты */
[data-align="center"] {
  text-align: center !important;
}

[data-align="left"] {
  text-align: left !important;
}

[data-align="right"] {
  text-align: right !important;
}

[data-align="justify"] {
  text-align: justify !important;
}

/* Максимально специфичные селекторы для переопределения Tailwind */
div[data-align="center"] h1,
div[data-align="center"] h2,
div[data-align="center"] h3,
div[data-align="center"] h4,
div[data-align="center"] h5,
div[data-align="center"] h6,
div[data-align="center"] p {
  text-align: center !important;
}

div[data-align="left"] h1,
div[data-align="left"] h2,
div[data-align="left"] h3,
div[data-align="left"] h4,
div[data-align="left"] h5,
div[data-align="left"] h6,
div[data-align="left"] p {
  text-align: left !important;
}

div[data-align="right"] h1,
div[data-align="right"] h2,
div[data-align="right"] h3,
div[data-align="right"] h4,
div[data-align="right"] h5,
div[data-align="right"] h6,
div[data-align="right"] p {
  text-align: right !important;
}

div[data-align="justify"] h1,
div[data-align="justify"] h2,
div[data-align="justify"] h3,
div[data-align="justify"] h4,
div[data-align="justify"] h5,
div[data-align="justify"] h6,
div[data-align="justify"] p {
  text-align: justify !important;
}

/* Переопределение всех возможных Tailwind классов */
.text-left[data-align="center"],
.text-center[data-align="center"],
.text-right[data-align="center"],
.text-justify[data-align="center"] {
  text-align: center !important;
}

.text-left[data-align="left"],
.text-center[data-align="left"],
.text-right[data-align="left"],
.text-justify[data-align="left"] {
  text-align: left !important;
}

.text-left[data-align="right"],
.text-center[data-align="right"],
.text-right[data-align="right"],
.text-justify[data-align="right"] {
  text-align: right !important;
}

.text-left[data-align="justify"],
.text-center[data-align="justify"],
.text-right[data-align="justify"],
.text-justify[data-align="justify"] {
  text-align: justify !important;
}

/* Использование CSS переменных для принудительного выравнивания */
[style*="--text-align: center"] {
  text-align: center !important;
}

[style*="--text-align: left"] {
  text-align: left !important;
}

[style*="--text-align: right"] {
  text-align: right !important;
}

[style*="--text-align: justify"] {
  text-align: justify !important;
}

/* Максимально специфичные селекторы с CSS переменными */
h1[style*="--text-align: center"],
h2[style*="--text-align: center"],
h3[style*="--text-align: center"],
h4[style*="--text-align: center"],
h5[style*="--text-align: center"],
h6[style*="--text-align: center"],
p[style*="--text-align: center"] {
  text-align: center !important;
}

h1[style*="--text-align: left"],
h2[style*="--text-align: left"],
h3[style*="--text-align: left"],
h4[style*="--text-align: left"],
h5[style*="--text-align: left"],
h6[style*="--text-align: left"],
p[style*="--text-align: left"] {
  text-align: left !important;
}

h1[style*="--text-align: right"],
h2[style*="--text-align: right"],
h3[style*="--text-align: right"],
h4[style*="--text-align: right"],
h5[style*="--text-align: right"],
h6[style*="--text-align: right"],
p[style*="--text-align: right"] {
  text-align: right !important;
}

h1[style*="--text-align: justify"],
h2[style*="--text-align: justify"],
h3[style*="--text-align: justify"],
h4[style*="--text-align: justify"],
h5[style*="--text-align: justify"],
h6[style*="--text-align: justify"],
p[style*="--text-align: justify"] {
  text-align: justify !important;
}

/* Уникальные CSS классы с максимальным приоритетом */
.force-text-center {
  text-align: center !important;
}

.force-text-left {
  text-align: left !important;
}

.force-text-right {
  text-align: right !important;
}

.force-text-justify {
  text-align: justify !important;
}

/* Переопределение всех возможных Tailwind классов */
.text-left.force-text-center,
.text-center.force-text-center,
.text-right.force-text-center,
.text-justify.force-text-center {
  text-align: center !important;
}

.text-left.force-text-left,
.text-center.force-text-left,
.text-right.force-text-left,
.text-justify.force-text-left {
  text-align: left !important;
}

.text-left.force-text-right,
.text-center.force-text-right,
.text-right.force-text-right,
.text-justify.force-text-right {
  text-align: right !important;
}

.text-left.force-text-justify,
.text-center.force-text-justify,
.text-right.force-text-justify,
.text-justify.force-text-justify {
  text-align: justify !important;
}

/* Предотвращение наложения элементов на карту */
.branch-content-container {
  position: relative;
  z-index: 1;
}

.branch-map-container {
  position: relative;
  z-index: 0;
}

.branch-content-image {
  position: relative;
  z-index: 10;
  display: block;
}

/* Скрытие скроллбара для карусели филиалов */
.scrollbar-hide {
  -ms-overflow-style: none;  /* Internet Explorer 10+ */
  scrollbar-width: none;  /* Firefox */
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;  /* Safari and Chrome */
}

/* Ограничение количества строк текста */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Стили для выпадающих списков - делаем их непрозрачными */
[data-radix-select-content] {
  background-color: white !important;
  border: 1px solid #e5e7eb !important;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
  opacity: 1 !important;
  z-index: 50 !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

[data-radix-select-content] * {
  background-color: white !important;
  opacity: 1 !important;
}

[data-radix-select-content] [data-radix-select-item] {
  background-color: white !important;
  opacity: 1 !important;
}

[data-radix-select-content] [data-radix-select-item]:hover {
  background-color: #f3f4f6 !important;
  opacity: 1 !important;
}

[data-radix-select-content] [data-radix-select-item][data-highlighted] {
  background-color: #e5e7eb !important;
  opacity: 1 !important;
}

/* Стили для модальных окон - делаем их непрозрачными */
[data-radix-dialog-content] {
  background-color: white !important;
  opacity: 1 !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

[data-radix-dialog-content] * {
  background-color: white !important;
  opacity: 1 !important;
}

[data-radix-dialog-content] [data-radix-dialog-title],
[data-radix-dialog-content] [data-radix-dialog-description] {
  background-color: transparent !important;
  opacity: 1 !important;
}

/* Стили для других выпадающих элементов - делаем их непрозрачными */
[data-radix-popover-content],
[data-radix-dropdown-content],
[data-radix-menu-content] {
  background-color: white !important;
  border: 1px solid #e5e7eb !important;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
  opacity: 1 !important;
  z-index: 50 !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

[data-radix-popover-content] *,
[data-radix-dropdown-content] *,
[data-radix-menu-content] * {
  background-color: white !important;
  opacity: 1 !important;
}

[data-radix-popover-content] [data-radix-menu-item],
[data-radix-dropdown-content] [data-radix-menu-item],
[data-radix-menu-content] [data-radix-menu-item] {
  background-color: white !important;
  opacity: 1 !important;
}

[data-radix-popover-content] [data-radix-menu-item]:hover,
[data-radix-dropdown-content] [data-radix-menu-item]:hover,
[data-radix-menu-content] [data-radix-menu-item]:hover {
  background-color: #f3f4f6 !important;
  opacity: 1 !important;
}

/* ===== СТИЛИ ДОСТУПНОСТИ ===== */

/* Базовые переменные для доступности */
:root {
  --accessibility-font-size: 1rem;
  --accessibility-line-height: 1.5;
  --accessibility-letter-spacing: 0px;
  --accessibility-font-family: inherit;
}

/* Режим доступности */
body.accessibility-mode {
  line-height: var(--accessibility-line-height) !important;
  letter-spacing: var(--accessibility-letter-spacing) !important;
  font-family: var(--accessibility-font-family) !important;
}

body.accessibility-mode * {
  font-size: calc(1rem * var(--accessibility-font-size)) !important;
  line-height: var(--accessibility-line-height) !important;
  letter-spacing: var(--accessibility-letter-spacing) !important;
  font-family: var(--accessibility-font-family) !important;
}

/* Исключения для элементов, которые не должны масштабироваться */
body.accessibility-mode img,
body.accessibility-mode svg,
body.accessibility-mode canvas,
body.accessibility-mode video,
body.accessibility-mode iframe {
  font-size: initial !important;
}

/* Улучшенное масштабирование для текстовых элементов */
body.accessibility-mode p,
body.accessibility-mode span,
body.accessibility-mode div,
body.accessibility-mode h1,
body.accessibility-mode h2,
body.accessibility-mode h3,
body.accessibility-mode h4,
body.accessibility-mode h5,
body.accessibility-mode h6,
body.accessibility-mode a,
body.accessibility-mode button,
body.accessibility-mode input,
body.accessibility-mode textarea,
body.accessibility-mode select,
body.accessibility-mode label {
  font-size: calc(1rem * var(--accessibility-font-size)) !important;
  line-height: var(--accessibility-line-height) !important;
  letter-spacing: var(--accessibility-letter-spacing) !important;
}

/* Высокая контрастность */
body.high-contrast {
  --foreground: #000000 !important;
  --background: #ffffff !important;
  --primary: #000000 !important;
  --secondary: #ffffff !important;
  --muted: #f5f5f5 !important;
  --border: #000000 !important;
}

body.high-contrast * {
  color: #000000 !important;
  background-color: #ffffff !important;
}

body.high-contrast .bg-primary,
body.high-contrast button,
body.high-contrast .btn {
  background-color: #000000 !important;
  color: #ffffff !important;
  border-color: #000000 !important;
}

body.high-contrast .text-primary,
body.high-contrast h1,
body.high-contrast h2,
body.high-contrast h3,
body.high-contrast h4,
body.high-contrast h5,
body.high-contrast h6 {
  color: #000000 !important;
}

body.high-contrast .border,
body.high-contrast input,
body.high-contrast textarea,
body.high-contrast select {
  border-color: #000000 !important;
  border-width: 2px !important;
}

body.high-contrast a {
  color: #0000ff !important;
  text-decoration: underline !important;
}

body.high-contrast a:hover {
  color: #000080 !important;
}

/* Цветовые схемы */
body.color-scheme-dark * {
  color: #ffffff !important;
  background-color: #000000 !important;
}

body.color-scheme-dark .bg-primary,
body.color-scheme-dark button,
body.color-scheme-dark .btn {
  background-color: #ffffff !important;
  color: #000000 !important;
  border-color: #ffffff !important;
}

body.color-scheme-dark .text-primary,
body.color-scheme-dark h1,
body.color-scheme-dark h2,
body.color-scheme-dark h3,
body.color-scheme-dark h4,
body.color-scheme-dark h5,
body.color-scheme-dark h6 {
  color: #ffffff !important;
}

body.color-scheme-dark .border,
body.color-scheme-dark input,
body.color-scheme-dark textarea,
body.color-scheme-dark select {
  border-color: #ffffff !important;
  border-width: 2px !important;
}

body.color-scheme-dark a {
  color: #87ceeb !important;
  text-decoration: underline !important;
}

body.color-scheme-dark a:hover {
  color: #add8e6 !important;
}

body.color-scheme-inverted * {
  color: #ffff00 !important;
  background-color: #000080 !important;
}

body.color-scheme-inverted .bg-primary,
body.color-scheme-inverted button,
body.color-scheme-inverted .btn {
  background-color: #ffff00 !important;
  color: #000080 !important;
  border-color: #ffff00 !important;
}

body.color-scheme-inverted .text-primary,
body.color-scheme-inverted h1,
body.color-scheme-inverted h2,
body.color-scheme-inverted h3,
body.color-scheme-inverted h4,
body.color-scheme-inverted h5,
body.color-scheme-inverted h6 {
  color: #ffff00 !important;
}

body.color-scheme-inverted .border,
body.color-scheme-inverted input,
body.color-scheme-inverted textarea,
body.color-scheme-inverted select {
  border-color: #ffff00 !important;
  border-width: 2px !important;
}

body.color-scheme-inverted a {
  color: #ffff00 !important;
  text-decoration: underline !important;
}

body.color-scheme-inverted a:hover {
  color: #ffffff !important;
}

/* Уменьшение анимаций */
body.reduce-motion *,
body.reduce-motion *::before,
body.reduce-motion *::after {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
  transition-delay: 0ms !important;
  scroll-behavior: auto !important;
}

body.reduce-motion [data-framer-motion] {
  animation: none !important;
  transition: none !important;
}

/* Подсветка фокуса */
body.show-focus *:focus {
  outline: 3px solid #0066cc !important;
  outline-offset: 2px !important;
  box-shadow: 0 0 0 3px rgba(0, 102, 204, 0.3) !important;
  border-radius: 2px !important;
}

body.show-focus button:focus,
body.show-focus input:focus,
body.show-focus textarea:focus,
body.show-focus select:focus,
body.show-focus a:focus,
body.show-focus [tabindex]:focus {
  outline: 3px solid #0066cc !important;
  outline-offset: 2px !important;
  box-shadow: 0 0 0 3px rgba(0, 102, 204, 0.3) !important;
  border-radius: 2px !important;
}

body.show-focus button:focus-visible,
body.show-focus input:focus-visible,
body.show-focus textarea:focus-visible,
body.show-focus select:focus-visible,
body.show-focus a:focus-visible {
  outline: 3px solid #0066cc !important;
  outline-offset: 2px !important;
  box-shadow: 0 0 0 3px rgba(0, 102, 204, 0.3) !important;
}

/* Улучшенная читаемость для режима доступности */
body.accessibility-mode p,
body.accessibility-mode span,
body.accessibility-mode div,
body.accessibility-mode h1,
body.accessibility-mode h2,
body.accessibility-mode h3,
body.accessibility-mode h4,
body.accessibility-mode h5,
body.accessibility-mode h6 {
  margin-bottom: calc(var(--accessibility-line-height) * 0.5em) !important;
}

body.accessibility-mode h1,
body.accessibility-mode h2,
body.accessibility-mode h3,
body.accessibility-mode h4,
body.accessibility-mode h5,
body.accessibility-mode h6 {
  font-weight: bold !important;
  margin-top: calc(var(--accessibility-line-height) * 1em) !important;
}

/* Улучшенные кнопки для доступности */
body.accessibility-mode button {
  min-height: 44px !important;
  min-width: 44px !important;
  padding: 12px 16px !important;
}

/* Улучшенные поля ввода */
body.accessibility-mode input,
body.accessibility-mode textarea,
body.accessibility-mode select {
  min-height: 44px !important;
  padding: 12px !important;
  border-width: 2px !important;
}

/* Улучшенные ссылки */
body.accessibility-mode a {
  text-decoration: underline !important;
  text-decoration-thickness: 2px !important;
}

body.accessibility-mode a:hover {
  text-decoration-thickness: 3px !important;
}

/* Скрытие декоративных элементов в режиме доступности */
body.accessibility-mode .decoration-only {
  display: none !important;
}

/* Улучшенная навигация */
body.accessibility-mode nav a {
  display: block !important;
  padding: 8px 12px !important;
  margin: 2px 0 !important;
}

/* Улучшенные таблицы */
body.accessibility-mode table {
  border-collapse: collapse !important;
  border: 2px solid var(--border) !important;
}

body.accessibility-mode th,
body.accessibility-mode td {
  border: 1px solid var(--border) !important;
  padding: 12px !important;
}

body.accessibility-mode th {
  background-color: var(--muted) !important;
  font-weight: bold !important;
}
