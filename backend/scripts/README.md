# Скрипты инициализации базы данных

Этот каталог содержит скрипты для инициализации и настройки базы данных при запуске приложения.

## Файлы

### `seed-news-categories.js`
Скрипт для создания начальных категорий новостей:
- НОВОСТИ ПРЕДПРИЯТИЯ
- БЕЗОПАСНОСТЬ ПОЛЕТОВ
- ИНФОРМАЦИОННАЯ БЕЗОПАСНОСТЬ
- МЧС ИНФОРМИРУЕТ
- МВД ИНФОРМИРУЕТ
- ЭНЕРГОСБЕРЕЖЕНИЕ

### `initialize-db.js`
Главный скрипт инициализации базы данных, который запускает все необходимые процедуры настройки.

## Использование

### Автоматический запуск
Скрипты автоматически запускаются при старте приложения (в `app.js`).

### Ручной запуск

```bash
# Инициализация всей базы данных
npm run db:init

# Только создание категорий новостей
npm run db:seed-news
```

### Прямой запуск скриптов

```bash
# Инициализация базы данных
node scripts/initialize-db.js

# Создание категорий новостей
node scripts/seed-news-categories.js
```

## Логика работы

1. **Проверка существования**: Скрипты проверяют, существуют ли уже необходимые данные
2. **Безопасное создание**: Создаются только отсутствующие записи
3. **Логирование**: Подробные логи о процессе создания
4. **Обработка ошибок**: Graceful handling ошибок без остановки приложения

## Добавление новых скриптов

Для добавления новых скриптов инициализации:

1. Создайте новый файл в папке `scripts/`
2. Добавьте вызов в `initialize-db.js`
3. При необходимости добавьте npm скрипт в `package.json`

Пример:
```javascript
// scripts/seed-new-data.js
module.exports = { seedNewData };

// В initialize-db.js
const { seedNewData } = require('./seed-new-data');
await seedNewData();
```



