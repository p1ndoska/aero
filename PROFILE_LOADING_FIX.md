# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è

## ‚úÖ –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### 1. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π baseUrl –≤ API**
**–ü—Ä–æ–±–ª–µ–º–∞:** –í `userProfileApi.ts` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è `/api` –≤–º–µ—Å—Ç–æ –ø–æ–ª–Ω–æ–≥–æ URL
**–†–µ—à–µ–Ω–∏–µ:** –ò–∑–º–µ–Ω–µ–Ω –Ω–∞ `${BASE_URL}/api` –∫–∞–∫ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º API

```tsx
// –ë—ã–ª–æ:
baseUrl: '/api',

// –°—Ç–∞–ª–æ:
baseUrl: `${BASE_URL}/api`,
```

### 2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–º–ø–æ—Ä—Ç–∞ BASE_URL**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª—Å—è BASE_URL –≤ userProfileApi
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç

```tsx
import { BASE_URL } from '../../constants';
```

### 3. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ —Ç–æ–∫–µ–Ω–∞**
**–ü—Ä–æ–±–ª–µ–º–∞:** –¢–æ–∫–µ–Ω –±—Ä–∞–ª—Å—è —Ç–æ–ª—å–∫–æ –∏–∑ Redux state
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ localStorage –∫–∞–∫ fallback

```tsx
// –ë—ã–ª–æ:
const token = (getState() as RootState).auth.token;

// –°—Ç–∞–ª–æ:
const token = (getState() as RootState).auth.token || localStorage.getItem("token");
```

### 4. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–ª, –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç

```tsx
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
if (!token && !localStorage.getItem('token')) {
  return <Navigate to="/" replace />;
}
```

### 5. **–î–æ–±–∞–≤–ª–µ–Ω–∞ –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ –±—ã–ª–æ –≤–∏–¥–Ω–æ, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –∑–∞–ø—Ä–æ—Å–æ–º
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω—ã console.log –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

```tsx
React.useEffect(() => {
  console.log('Profile loading:', profileLoading);
  console.log('Profile error:', profileError);
  console.log('Profile data:', profile);
  console.log('Token:', localStorage.getItem('token'));
}, [profileLoading, profileError, profile]);
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### –ß—Ç–æ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–µ–ø–µ—Ä—å:
1. ‚úÖ **API –∑–∞–ø—Ä–æ—Å—ã** –∏–¥—É—Ç –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL (`http://localhost:8000/api/profile`)
2. ‚úÖ **–¢–æ–∫–µ–Ω –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è** –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö
3. ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏** —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π –ø—Ä–æ—Ñ–∏–ª—è
4. ‚úÖ **–û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** –ø–æ–∫–∞–∂–µ—Ç, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏

### –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
1. **–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞** (F12)
2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç**
3. **–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª—å** - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏:
   - `Profile loading: true/false`
   - `Profile error: null/error object`
   - `Profile data: user object`
   - `Token: "your-jwt-token"`

## üö® –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –æ—à–∏–±–∫–∏

### –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ü—Ä–æ–±–ª–µ–º–∞ —Å —Ç–æ–∫–µ–Ω–æ–º:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–æ–∫–µ–Ω –Ω–µ –∏—Å—Ç–µ–∫
   - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—ã–π—Ç–∏ –∏ –≤–æ–π—Ç–∏ –∑–∞–Ω–æ–≤–æ

2. **–ü—Ä–æ–±–ª–µ–º–∞ —Å –±—ç–∫–µ–Ω–¥–æ–º:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ä–æ—É—Ç—ã `/api/profile` —Ä–∞–±–æ—Ç–∞—é—Ç
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ middleware –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ UserProfileController –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω

3. **–ü—Ä–æ–±–ª–µ–º–∞ —Å CORS:**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±—ç–∫–µ–Ω–¥ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å** - –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ –ª–æ–≥–∏
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Network tab** - –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ HTTP –∑–∞–ø—Ä–æ—Å—ã
3. **–ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∞ 401** - –ø—Ä–æ–±–ª–µ–º–∞ —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
4. **–ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∞ 404** - –ø—Ä–æ–±–ª–µ–º–∞ —Å —Ä–æ—É—Ç–∏–Ω–≥–æ–º
5. **–ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∞ 500** - –ø—Ä–æ–±–ª–µ–º–∞ –Ω–∞ –±—ç–∫–µ–Ω–¥–µ

## üìã –ì–æ—Ç–æ–≤—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã:
- ‚úÖ baseUrl –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
- ‚úÖ BASE_URL –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω
- ‚úÖ –¢–æ–∫–µ–Ω –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∞
- ‚úÖ –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–∫—Ä—ã—Ç—å –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç —Å–µ–π—á–∞—Å –∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞! üîç
